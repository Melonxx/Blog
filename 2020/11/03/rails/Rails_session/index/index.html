<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="个人博客"><title>Rails session | zch233</title><link rel="stylesheet" type="text/css" href="/Blog/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/Blog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/Blog/favicon.ico"><link rel="apple-touch-icon" href="/Blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/Blog/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Rails session</h1><a id="logo" href="/Blog/.">zch233</a><p class="description">人到中年</p></div><div id="nav-menu"><a class="current" href="/Blog/."><i class="fa fa-home"> Home</i></a><a href="/Blog/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Rails session</h1><div class="post-meta">2020-11-03<span> | </span><span class="category"><a href="/Blog/categories/Rails/">Rails</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">1.</span> <span class="toc-text">路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Modal"><span class="toc-number">2.</span> <span class="toc-text">Modal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Controller"><span class="toc-number">3.</span> <span class="toc-text">Controller</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E9%AA%8C%E8%AF%81%EF%BC%8C%E9%AA%8C%E8%AF%81%E9%82%AE%E7%AE%B1%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="toc-number">4.</span> <span class="toc-text">追加一个自定义的验证，验证邮箱是否存在</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#attr-accessor-xxx-%E5%81%9A%E4%BA%86%E5%95%A5"><span class="toc-number">5.</span> <span class="toc-text">attr_accessor :xxx 做了啥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E5%87%BA%E9%94%99%EF%BC%8C%E5%AE%8C%E5%96%84%E4%B8%80%E4%B8%8B%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">为了避免出错，完善一下上面的代码</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0-session-%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">增加 session 中间件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81"><span class="toc-number">7.</span> <span class="toc-text">记住密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%8F%A5%E8%AF%9D%E5%AE%9E%E7%8E%B0%E6%B3%A8%E9%94%80%E5%8A%9F%E8%83%BD"><span class="toc-number">8.</span> <span class="toc-text">三句话实现注销功能</span></a></li></ol></div></div><div class="post-content"><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><ul>
<li>在 <code>config/routes</code> 里添加 <code>resources :sessions, only: [:create, :destroy]</code> 只需要这两个 API</li>
</ul>
<h2 id="Modal"><a href="#Modal" class="headerlink" title="Modal"></a>Modal</h2><ul>
<li>手动创建 <code>app/modal/session.rb</code>，因为 session 并不需要存在数据库中，内容<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="keyword">Session</span></span><br><span class="line">  <span class="keyword">include</span> ActiveModel::Model // 不能像 <span class="keyword">user</span> 那样继承 ActiveRecord，但是我们又需要用到 Rails 提供的 <span class="keyword">class</span> 里面的便利方法，所以这里需要引入模块 ActiveModel</span><br><span class="line">  attr_accessor :email, :<span class="keyword">password</span></span><br><span class="line"></span><br><span class="line">  validates_presence_of :email, :<span class="keyword">password</span></span><br><span class="line">  validates_format_of :email, <span class="keyword">with</span>: /.+@.+/, <span class="keyword">if</span>: :email</span><br><span class="line">  validates_length_of :<span class="keyword">password</span>, minimum: <span class="number">6</span>, <span class="keyword">on</span>: [:<span class="keyword">create</span>], <span class="keyword">if</span>: :<span class="keyword">password</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><ul>
<li>使用命令创建 controller ，<code>bin/rails g controller sessions</code>，追加两个方法<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> SessionsController &lt; ApplicationController</span><br><span class="line">  def <span class="keyword">create</span></span><br><span class="line">    <span class="keyword">session</span> = <span class="keyword">Session</span>.<span class="built_in">new</span> create_params</span><br><span class="line">    <span class="keyword">session</span>.<span class="keyword">validate</span></span><br><span class="line">    render_resource <span class="keyword">session</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  def destroy</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  def create_params</span><br><span class="line">    params.permit(:email, :<span class="keyword">password</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="追加一个自定义的验证，验证邮箱是否存在"><a href="#追加一个自定义的验证，验证邮箱是否存在" class="headerlink" title="追加一个自定义的验证，验证邮箱是否存在"></a>追加一个自定义的验证，验证邮箱是否存在</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="keyword">Session</span></span><br><span class="line">  <span class="keyword">include</span> ActiveModel::Model</span><br><span class="line">  attr_accessor :email, :<span class="keyword">password</span>, :<span class="keyword">user</span></span><br><span class="line"></span><br><span class="line">  validates_presence_of :email, :<span class="keyword">password</span></span><br><span class="line">  <span class="keyword">validate</span> :check_email_present, <span class="keyword">if</span>: :email</span><br><span class="line">  validates_format_of :email, <span class="keyword">with</span>: /.+@.+/, <span class="keyword">if</span>: :email</span><br><span class="line">  validates_length_of :<span class="keyword">password</span>, minimum: <span class="number">6</span>, <span class="keyword">if</span>: :<span class="keyword">password</span></span><br><span class="line">  <span class="keyword">validate</span> :check_email_password_match, <span class="keyword">if</span>: Proc.<span class="built_in">new</span> &#123;|s| s.email.present? <span class="keyword">and</span> s.<span class="keyword">password</span>.present?&#125;</span><br><span class="line"></span><br><span class="line">  def check_email_present</span><br><span class="line">    <span class="keyword">user</span> ||= <span class="keyword">User</span>.find_by_email email</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">user</span>.nil?</span><br><span class="line">      errors.<span class="keyword">add</span> :email, :not_present</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  def check_email_password_match</span><br><span class="line">    <span class="keyword">user</span> ||= <span class="keyword">User</span>.find_by_email email</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">user</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">user</span>.authenticate(<span class="keyword">password</span>)</span><br><span class="line">      errors.<span class="keyword">add</span> :<span class="keyword">password</span>, :not_match</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="attr-accessor-xxx-做了啥"><a href="#attr-accessor-xxx-做了啥" class="headerlink" title="attr_accessor :xxx 做了啥"></a>attr_accessor :xxx 做了啥</h2><ul>
<li><ol>
<li>@xxx</li>
</ol>
</li>
<li><ol start="2">
<li>def xxx 获取 @xxx 的值</li>
</ol>
</li>
<li><ol start="3">
<li>def xxx&#x3D; 赋值给 @xxx</li>
</ol>
</li>
</ul>
<h5 id="为了避免出错，完善一下上面的代码"><a href="#为了避免出错，完善一下上面的代码" class="headerlink" title="为了避免出错，完善一下上面的代码"></a>为了避免出错，完善一下上面的代码</h5><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class <span class="title class_">Session</span></span><br><span class="line">  include <span class="title class_">ActiveModel</span>::<span class="title class_">Model</span></span><br><span class="line">  attr_accessor <span class="symbol">:email</span>, <span class="symbol">:password</span>, <span class="symbol">:user</span></span><br><span class="line"></span><br><span class="line">  validates_presence_of <span class="symbol">:email</span>, <span class="symbol">:password</span></span><br><span class="line">  validate <span class="symbol">:check_email_present</span>, <span class="symbol">if:</span> <span class="symbol">:email</span></span><br><span class="line">  validates_format_of <span class="symbol">:email</span>, <span class="symbol">with:</span> /.+@.+/, <span class="symbol">if:</span> <span class="symbol">:email</span></span><br><span class="line">  validates_length_of <span class="symbol">:password</span>, <span class="symbol">minimum:</span> <span class="number">6</span>, <span class="symbol">if:</span> <span class="symbol">:password</span></span><br><span class="line">  validate <span class="symbol">:check_email_password_match</span>, <span class="symbol">if:</span> <span class="title class_">Proc</span>.new &#123;|s| s.email.present? <span class="keyword">and</span> s.password.present?&#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">check_email_present</span></span></span><br><span class="line">    <span class="variable">@user</span> ||= <span class="title class_">User</span>.find_by_email email</span><br><span class="line">    <span class="keyword">if</span> <span class="variable">@user</span>.nil?</span><br><span class="line">      errors.add <span class="symbol">:email</span>, <span class="symbol">:not_present</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">check_email_password_match</span></span></span><br><span class="line">    <span class="variable">@user</span> ||= <span class="title class_">User</span>.find_by_email email</span><br><span class="line">    <span class="keyword">if</span> <span class="variable">@user</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="variable">@user</span>.authenticate(password)</span><br><span class="line">      errors.add <span class="symbol">:password</span>, <span class="symbol">:not_match</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="增加-session-中间件"><a href="#增加-session-中间件" class="headerlink" title="增加 session 中间件"></a>增加 session 中间件</h2><p><code>config/application.rb</code><br><a target="_blank" rel="noopener" href="https://edgeguides.rubyonrails.org/api_app.html">https://edgeguides.rubyonrails.org/api_app.html</a></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">config<span class="selector-class">.session_store</span> :cookie_store, key: <span class="string">&#x27;_monery_session_id&#x27;</span></span><br><span class="line">config<span class="selector-class">.middleware</span><span class="selector-class">.use</span> ActionDispatch::Cookies</span><br><span class="line">config<span class="selector-class">.middleware</span><span class="selector-class">.use</span> config<span class="selector-class">.session_store</span>, config.session_options</span><br></pre></td></tr></table></figure>
<p>增加 session</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def <span class="keyword">create</span></span><br><span class="line">    s = <span class="keyword">Session</span>.<span class="built_in">new</span> create_params</span><br><span class="line">    s.<span class="keyword">validate</span></span><br><span class="line">    render_resource s</span><br><span class="line">    <span class="keyword">session</span>[:current_user_id] = s.<span class="keyword">user</span>.id</span><br><span class="line">  <span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>再给 user 增加一个根据 session_id 获取当前用户的路由<br>config&#x2F;routes</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">get</span> <span class="string">&#x27;/current_user_info&#x27;</span>, <span class="keyword">to</span>: <span class="string">&#x27;user#current_user_info&#x27;</span></span><br></pre></td></tr></table></figure>
<p>app&#x2F;controllers&#x2F;users_controller.rb</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">current_user_info</span></span></span><br><span class="line">  <span class="variable">@user_id</span> = session[<span class="symbol">:current_user_id</span>]</span><br><span class="line">  <span class="variable">@user</span> = <span class="title class_">User</span>.find_by_id <span class="variable">@user_id</span></span><br><span class="line">  render_resource <span class="variable">@user</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="记住密码"><a href="#记住密码" class="headerlink" title="记住密码"></a><em>记住密码</em></h2><p><em>切记不可把用户密码直接存在 localStorage</em><br>Rails 官方没有提供最佳实践<br>因为做法各不相同<br><strong>思路</strong>：</p>
<ol>
<li>当用户记住密码时，带上相关字段发给服务器</li>
<li>服务器接受以后，下发一个随机数（r）并存在数据库和 session</li>
<li>当过了一段时间，session 过期以后，只剩下 r 被带上发送给服务器</li>
<li>服务器检查 r 是否有效且正确（比如记住密码7天有效），有效中就直接派发一个新的 session，</li>
<li>而数据库需要在 user 表中多增加两个字段 login_token 和 login_token_expired_at 即可</li>
<li>但是如果需要做多个设备的记住密码，上面方案就不够用了，因为新设备登陆，会覆盖数据库，所以我们就需要新增一张 user 的关联表，用来记录多个 login_token</li>
</ol>
<p><img src="/Blog/2020/11/03/rails/Rails_session/index/img.png"></p>
<h2 id="三句话实现注销功能"><a href="#三句话实现注销功能" class="headerlink" title="三句话实现注销功能"></a>三句话实现注销功能</h2><p>config&#x2F;routes，由于 Rails 定义的 destory 方法需要传一个 id，所以我们需要重新定义一个方法</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span> <span class="string">&#x27;sessions&#x27;</span>, <span class="built_in">to</span>: <span class="string">&#x27;sessions#destroy&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">destroy</span></span></span><br><span class="line">    session[<span class="symbol">:current_user_id</span>] = <span class="literal">nil</span></span><br><span class="line">    head <span class="number">200</span></span><br><span class="line">  <span class="keyword">end</span></span><br></pre></td></tr></table></figure></div><div class="tags"></div><div class="post-nav"><a class="pre" href="/Blog/2021/03/01/javascript/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99/index/">代码优化基本原则</a><a class="next" href="/Blog/2020/09/20/rails/Rails_start/index/">Rails start</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
  clientID: 'e4a44394ea630529848c',
  clientSecret: '884b4deb2d55fbcc63921e12f73b58e944efa110',
  repo: 'Blog',
  owner: 'zch233',
  admin: ['zch233'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="./about/" title="About"><img class="nofancybox" src="/Blog/img/avatar.png"/></a><p>coder.</p><a class="info-icon" href="zch2333333@gmail.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/zch233" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Lisp/">Lisp</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Node-js/">Node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Rails/">Rails</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/React/">React</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/SCSS/">SCSS</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Shell/">Shell</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/TypeScript/">TypeScript</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/chrome%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/">chrome调试技巧</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/daisy/">daisy</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/javascript/">javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/relearnFE/">relearnFE</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/%E5%87%86%E5%A4%87%E9%9D%A2%E8%AF%95/">准备面试</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/%E6%97%A5%E5%B8%B8%E6%9D%82%E7%96%91/">日常杂疑</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/%E8%B6%A3%E9%97%BB/">趣闻</a></li><li class="category-list-item"><a class="category-list-link" href="/Blog/categories/%E9%9A%8F%E7%AC%94/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/08/27/essay/AI%E8%81%8A%E5%A4%A9prompt/index/">AI聊天prompt</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/17/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9AJS-TS/index/">TypeScript全解：JS&TS</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/16/typescript/React%20%E6%B3%9B%E5%9E%8B%E7%BB%84%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/index/">React 泛型组件是什么？</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/15/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9A%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%EF%BC%88%E4%B8%8A%EF%BC%89/index/">TypeScript全解：类型体操（上）</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/15/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9A%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%EF%BC%88%E4%B8%8B%EF%BC%89/index/">TypeScript全解：类型体操（下）</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/14/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9Aclass%EF%BC%88%E4%B8%8B%EF%BC%89/index/">TypeScript全解：class（下）</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/14/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9Aclass%EF%BC%88%E4%B8%8A%EF%BC%89/index/">TypeScript全解：class（上）</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/12/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9A%E6%B3%9B%E5%9E%8B%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%8B%EF%BC%89/index/">TypeScript全解：泛型编程（下）</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/12/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9A%E6%B3%9B%E5%9E%8B%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%8A%EF%BC%89/index/">TypeScript全解：泛型编程（上）</a></li><li class="post-list-item"><a class="post-list-link" href="/Blog/2023/06/11/typescript/TypeScript%E5%85%A8%E8%A7%A3%EF%BC%9A%E6%B7%B1%E5%85%A5%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0%EF%BC%88%E4%B8%8B%EF%BC%89/index/">TypeScript全解：深入对象与函数（下）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://www.jianshu.com/u/4b4c7aec223d" title="littleyu" target="_blank">littleyu</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/Blog/." rel="nofollow">zch233.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/Blog/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/Blog/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/Blog/css/search.css?v=1.0.0"><script type="text/javascript" src="/Blog/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/Blog/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/Blog/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/Blog/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/Blog/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/Blog/js/smartresize.js?v=1.0.0"></script></div></body></html>